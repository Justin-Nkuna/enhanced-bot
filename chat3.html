<!DOCTYPE html>
<html>
<head>
  <title>Embedded Messaging Chat</title>
  <script src="https://service.force.com/embeddedservice/5.0/esw.min.js"></script>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>   
  

</head>
<body>
  <div id="embedded-chat"></div>

  <script type='text/javascript'>
    function initEmbeddedMessaging() {
      if (!window.embeddedservice_bootstrap) {
        console.error("embeddedservice_bootstrap is not defined.");
        return;
      }

      console.log('Initializing Embedded Messaging');

      embeddedservice_bootstrap.settings.language = 'en_US'; // Set default language

      embeddedservice_bootstrap.init(
        '00Ddw0000007iNh', // Deployment ID
        'Gihub_Deployment', // Chat Configuration Name
        'https://capeunionmart--dev.sandbox.my.site.com/ESWGihubDeployment1728631807080', // Website URL
        {
          scrt2URL: 'https://capeunionmart--dev.sandbox.my.salesforce-scrt.com'
        }
      );
    };

    // Ensure esw.min.js is loaded before initializing
    if (!window.embedded_svc) {
      var s = document.createElement('script');
      s.setAttribute('src', 'https://service.force.com/embeddedservice/5.0/esw.min.js');
      s.onload   
 = initEmbeddedMessaging;
      document.body.appendChild(s);
    } else {
      initEmbeddedMessaging();
    }
  </script>
</body>
</html>
